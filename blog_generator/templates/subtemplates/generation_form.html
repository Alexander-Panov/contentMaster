{% load static %}

<div class="container mt-5 position-relative">
    <h2 class="mb-3">Генерация контента</h2>
    <div id="loadingIndicator"
         class="position-absolute w-100 h-100 d-flex justify-content-center align-items-center bg-white bg-opacity-75 d-none"
         style="top: 0; left: 0; z-index: 1000;">
        <div class="text-center">
            <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
                <span class="visually-hidden">Загрузка...</span>
            </div>
            <p class="mt-2 lead">Генерация контента...</p>
        </div>
    </div>
    <form action="{% url "generate_blog" %}" id="generateForm" method="post">
        {% csrf_token %}
        {% for field in form %}
            <div class="mb-3">
                {{ field.label_tag }}
                {{ field }}
                {% if field.help_text %}
                    <small class="form-text text-muted">{{ field.help_text }}</small>
                {% endif %}
                {% for error in field.errors %}
                    <div class="invalid-feedback d-block">{{ error }}</div>
                {% endfor %}
            </div>
        {% endfor %}
        <button type="submit" class="btn btn-primary" id="generateButton">Сгенерировать контент</button>
    </form>
    <div id="loadingIndicator" class="mt-3 d-none">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Загрузка...</span>
        </div>
        <span class="ms-2">Генерация...</span>
    </div>
    <div id="errorMessage" class="mt-3 alert alert-danger d-none"></div>
</div>

{% block include_js %}
    <script src="{% static 'js/generate_content.js' %}"></script>
{% endblock %}
